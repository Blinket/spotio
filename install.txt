/* WIP, using this as a reference for extracting files in Spotify.app/Content/Resources/Apps/ */

/*
  Original command thanks to Matthew Kosloski https://gist.github.com/MatthewKosloski/2146b28e1fbba6a168f11f7a2576a39c

  Extracts each .spa file in Spotify's Apps directory without manually doing it yourself.

  The default folder is put on the desktop.
  To change that, change the following part of the command:
  `~/Desktop/Apps && cd ~/Desktop/Apps`

*/

cd /Applications/Spotify.app/Contents/Resources/Apps && cp -R . ~/Desktop/Apps && cd ~/Desktop/Apps && mkdir about ad album artist-chart artist browse buddy-list chart collection-album collection-artist collection-songs collection concerts creator-about discover error feedback findfriends full-screen-modal genre glue-resources hub licenses lyrics messages notification-center people playlist-desktop playlist-folder profile radio-hub search settings share social-feed station stations suggest zlink-queue zlink zlogin && tar -xvf about.spa -C ./about && tar -xvf ad.spa -C ./ad && tar -xvf album.spa -C ./album && tar -xvf artist-chart.spa -C ./artist-chart && tar -xvf artist.spa -C ./artist && tar -xvf browse.spa -C ./browse && tar -xvf buddy-list.spa -C ./buddy-list && tar -xvf chart.spa -C ./chart && tar -xvf collection-album.spa -C ./collection-album && tar -xvf collection-artist.spa -C ./collection-artist && tar -xvf collection-songs.spa -C ./collection-songs && tar -xvf collection.spa -C ./collection && tar -xvf concerts.spa -C ./concerts && tar -xvf creator-about.spa -C ./creator-about && tar -xvf discover.spa -C ./discover && tar -xvf error.spa -C ./error && tar -xvf feedback.spa -C ./feedback && tar -xvf findfriends.spa -C ./findfriends && tar -xvf full-screen-modal.spa -C ./full-screen-modal && tar -xvf genre.spa -C ./genre && tar -xvf glue-resources.spa -C ./glue-resources && tar -xvf hub.spa -C ./hub && tar -xvf licenses.spa -C ./licenses && tar -xvf lyrics.spa -C ./lyrics && tar -xvf messages.spa -C ./messages && tar -xvf notification-center.spa -C ./notification-center && tar -xvf people.spa -C ./people && tar -xvf playlist-desktop.spa -C ./playlist-desktop && tar -xvf playlist-folder.spa -C ./playlist-folder && tar -xvf profile.spa -C ./profile && tar -xvf radio-hub.spa -C ./radio-hub && tar -xvf search.spa -C ./search && tar -xvf settings.spa -C ./settings && tar -xvf share.spa -C ./share && tar -xvf social-feed.spa -C ./social-feed && tar -xvf station.spa -C ./station && tar -xvf stations.spa -C ./stations && tar -xvf suggest.spa -C ./suggest && tar -xvf zlink-queue.spa -C ./zlink-queue && tar -xvf zlink.spa -C ./zlink && tar -xvf zlogin.spa -C ./zlogin


/*
  Repacks the Spotify modules
  It converts your folder into a .spa file. (e.g., profile -> profile.spa)

  All module folders will be deleted after running this.
  As a result, the root directory will only contain .spa files. (ready to be placed into Spotify's contents)

  To run, simply `cd` into the root Apps folder of your skin.
  Then, take said folder and replace it with Spotify's Apps directory found at `/Applications/Spotify.app/Contents/Resources/Apps`

*/

tar -cvf about.spa ./about && tar -cvf ad.spa ./ad && tar -cvf album.spa ./album && tar -cvf artist-chart.spa ./artist-chart && tar -cvf artist.spa ./artist && tar -cvf browse.spa ./browse && tar -cvf buddy-list.spa ./buddy-list && tar -cvf chart.spa ./chart && tar -cvf collection-album.spa ./collection-album && tar -cvf collection-artist.spa ./collection-artist && tar -cvf collection-songs.spa ./collection-songs && tar -cvf collection.spa ./collection && tar -cvf concerts.spa ./concerts && tar -cvf creator-about.spa ./creator-about && tar -cvf discover.spa ./discover && tar -cvf error.spa ./error && tar -cvf feedback.spa ./feedback && tar -cvf findfriends.spa ./findfriends && tar -cvf full-screen-modal.spa ./full-screen-modal && tar -cvf genre.spa ./genre && tar -cvf glue-resources.spa ./glue-resources && tar -cvf hub.spa ./hub && tar -cvf licenses.spa ./licenses && tar -cvf lyrics.spa ./lyrics && tar -cvf messages.spa ./messages && tar -cvf notification-center.spa ./notification-center && tar -cvf people.spa ./people && tar -cvf playlist-desktop.spa ./playlist-desktop && tar -cvf playlist-folder.spa ./playlist-folder && tar -cvf profile.spa ./profile && tar -cvf radio-hub.spa ./radio-hub && tar -cvf search.spa ./search && tar -cvf settings.spa ./settings && tar -cvf share.spa ./share && tar -cvf social-feed.spa ./social-feed && tar -cvf station.spa ./station && tar -cvf stations.spa ./stations && tar -cvf suggest.spa ./suggest && tar -cvf zlink-queue.spa ./zlink-queue && tar -cvf zlink.spa ./zlink && tar -cvf zlogin.spa ./zlogin && rm -rf about ad album artist-chart artist browse buddy-list chart collection-album collection-artist collection-songs collection concerts creator-about discover error feedback findfriends full-screen-modal genre glue-resources hub licenses lyrics messages notification-center people playlist-desktop playlist-folder profile radio-hub search settings share social-feed station stations suggest zlink-queue zlink zlogin
